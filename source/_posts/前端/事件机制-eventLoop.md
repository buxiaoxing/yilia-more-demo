---
title: 事件循环(eventLoop)
date: 2022-03-03 17:01:37
tags:
    - js
    - 前端
---
**风是自由的，希望你也是**

<!--more-->
- 宏任务与微任务

  > 微任务执行完成后会将线程控制权归还给浏览器，等线程控制器再次到js时，才会去执行宏任务，所以同一层级的微任务比宏任务先执行。

  - 宏任务

    > 常见的定时器，用户交互事件，脚本标签

  - 微任务

    > Promise

- `Event Loop`
  > 1. 从 宏任务 队列（例如 “script”）中出队（dequeue）并执行最早的任务
  > 2. 执行所有 微任务
  > 3. 如果有变更，则将变更渲染出来
  > 4. 如果宏任务队列为空，则休眠直到出现宏任务
  > 5. 转至步骤1

   <img src="https://gitee.com/buxiaoxing/image-bed/raw/master/img/image-20220228180358392.png" width="500px" />